<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            min-height: 100vh;
        }

        body {
            background: url('winter-background.jpg') no-repeat center center fixed;
            background-size: cover;
            font-family: 'Georgia', serif;
            color: #fff;
            padding: 40px 20px;
            position: relative;
            opacity: 0;
            transition: opacity 0.3s ease-in;
        }

        body.loaded {
            opacity: 1;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0a1929 0%, #1a3a5a 50%, #0d2640 100%);
            opacity: 0.35;
            z-index: 2;
            pointer-events: none;
        }

        .menu-container {
            max-width: 2200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr 1fr 1fr 1fr;
            gap: 15px;
            align-items: start;
            position: relative;
            z-index: 3;
        }

        /* Food Mode Layout - optimized for wider spacing */
        body.mode-food .menu-container {
            grid-template-columns: 1.5fr 1fr 1fr 1fr;
            max-width: 2400px;
            gap: 50px;
        }

        body.mode-food .breakfast-and-mains-wrapper {
            grid-column: span 3;
        }

        body.mode-food .breakfast-toast-columns {
            gap: 40px;
        }

        body.mode-food .main-dishes-columns {
            gap: 40px;
        }

        /* Drinks Mode Layout - expand to use full width */
        body.mode-drinks .menu-container {
            grid-template-columns: 1fr;
            max-width: 2400px;
        }

        body.mode-drinks .drinks-section {
            grid-column: span 1;
        }

        body.mode-drinks .drinks-columns {
            grid-template-columns: 1fr 1fr 1fr;
            gap: 40px;
        }

        body.mode-drinks .drinks-centered {
            max-width: 700px;
        }

        /* Hide sections based on mode */
        body.mode-drinks .menu-container > .column:first-child,
        body.mode-drinks .breakfast-and-mains-wrapper {
            display: none;
        }

        body.mode-food .drinks-section {
            display: none;
        }

        .column {
            padding: 20px;
        }

        h1 {
            font-size: 48px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 15px;
            letter-spacing: 2px;
            color: #f9df85;
        }

        h2 {
            font-size: 30px;
            font-weight: bold;
            margin: 12px 0 8px 0;
            text-align: center;
        }

        .menu-item {
            margin-bottom: 12px;
        }

        .menu-container > .column:first-child .menu-item {
            margin-bottom: 35px;
        }

        .drinks-section .menu-item {
            margin-bottom: 50px;
        }

        .item-header {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            margin-bottom: 5px;
        }

        .item-name {
            font-weight: bold;
            font-size: 42px;
            text-transform: uppercase;
        }

        .item-price {
            font-weight: bold;
            font-size: 42px;
            margin-left: 10px;
        }

        .item-description {
            font-size: 28px;
            line-height: 1.1;
            font-style: normal;
        }

        .section-header {
            text-align: center;
            font-size: 28px;
            margin-bottom: 10px;
            line-height: 1.4;
            color: #f9df85;
        }

        .subsection {
            margin: 20px 0;
        }

        .subsection-title {
            font-weight: bold;
            font-size: 30px;
            text-align: center;
            margin: 15px 0 10px 0;
            color: #f9df85;
        }

        .kids-section {
            margin-top: 60px;
        }

        .kids-title {
            font-size: 42px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 30px;
            color: #f9df85;
        }

        .kids-section .menu-item {
            margin-bottom: 30px;
        }

        .kids-price {
            font-size: 36px;
            vertical-align: super;
        }

        .breakfast-and-mains-wrapper {
            grid-column: span 2;
            display: flex;
            flex-direction: column;
        }

        .breakfast-toast-section {
            display: flex;
            flex-direction: column;
            margin-bottom: 20px;
        }

        .breakfast-toast-header {
            font-size: 48px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
            letter-spacing: 2px;
            color: #f9df85;
        }

        .breakfast-toast-columns {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .breakfast-toast-section .menu-item {
            margin-bottom: 20px;
        }

        .breakfast-toast-centered {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .main-dishes-section {
            display: flex;
            flex-direction: column;
        }

        .main-dishes-header {
            font-size: 48px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 15px;
            letter-spacing: 2px;
            color: #f9df85;
        }

        .main-dishes-columns {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .main-dishes-section .menu-item {
            margin-bottom: 25px;
        }

        .main-dishes-centered {
            max-width: 600px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .drinks-section {
            grid-column: span 2;
            display: flex;
            flex-direction: column;
        }

        .drinks-header {
            font-size: 48px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 5px;
            letter-spacing: 2px;
            color: #f9df85;
        }

        .drinks-section .subsection:first-child {
            margin-top: 0;
        }

        .drinks-section .subsection-title {
            margin-top: 5px;
        }

        .drinks-centered {
            max-width: 600px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .drinks-centered .subsection {
            margin-top: 0;
        }

        .drinks-columns {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
        }

        @media (max-width: 1200px) {
            .menu-container {
                grid-template-columns: 1fr;
            }
            .breakfast-and-mains-wrapper {
                grid-column: span 1;
            }
            .drinks-section {
                grid-column: span 1;
            }
        }

        /* Limited Mode Styles - override mode-specific hiding */
        body.limited-mode .menu-container {
            grid-template-columns: 1fr 1fr 1fr !important;
            max-width: 1800px !important;
            gap: 60px !important;
        }

        body.limited-mode .breakfast-and-mains-wrapper {
            grid-column: span 1 !important;
        }

        body.limited-mode .drinks-section {
            grid-column: span 1 !important;
        }

        /* Show all sections in limited mode regardless of query param */
        body.limited-mode .menu-container > .column:first-child,
        body.limited-mode .breakfast-and-mains-wrapper,
        body.limited-mode .drinks-section {
            display: block !important;
        }

        /* Reset drinks columns in limited mode */
        body.limited-mode .drinks-columns {
            grid-template-columns: 1fr !important;
        }

        body.limited-mode .breakfast-toast-columns {
            grid-template-columns: 1fr;
        }

        body.limited-mode .main-dishes-columns {
            grid-template-columns: 1fr;
        }

        body.limited-mode .drinks-columns {
            grid-template-columns: 1fr;
        }

        /* Hide elements not in limited mode */
        body.limited-mode .menu-item:not([data-limited]),
        body.limited-mode .subsection-title,
        body.limited-mode .section-header:not([data-limited]),
        body.limited-mode h1:not([data-limited]) {
            display: none;
        }

        /* Hide STARTERS section title in limited mode, show only KIDS */
        body.limited-mode .menu-container > .column:first-child > h1 {
            display: none;
        }

        /* Adjust spacing in limited mode */
        body.limited-mode .kids-section {
            margin-top: 0;
        }

        /* Hide subsections in limited mode to prevent spacing gaps */
        body.limited-mode .subsection {
            margin: 0;
        }

        /* Increase spacing between visible items in limited mode */
        body.limited-mode .menu-item[data-limited] {
            margin-bottom: 50px;
        }

        body.limited-mode .kids-section .menu-item[data-limited] {
            margin-bottom: 80px;
        }

        body.limited-mode .drinks-section .menu-item[data-limited] {
            margin-bottom: 35px;
        }

        /* Increase font sizes in limited mode */
        body.limited-mode .item-name {
            font-size: 48px;
        }

        body.limited-mode .item-price {
            font-size: 48px;
        }

        body.limited-mode .item-description {
            font-size: 32px;
            line-height: 1.2;
        }

        body.limited-mode .main-dishes-header,
        body.limited-mode .drinks-header {
            font-size: 56px;
        }

        body.limited-mode .section-header {
            font-size: 28px;
        }

        body.limited-mode .kids-title {
            font-size: 42px;
        }

        body.limited-mode .kids-price {
            font-size: 36px;
        }

        /* Increase kids section text size even more */
        body.limited-mode .kids-section .item-name {
            font-size: 48px;
        }

        body.limited-mode .kids-section .item-description {
            font-size: 48px;
        }

        body.limited-mode .kids-title {
            font-size: 42px;
        }

        body.limited-mode .kids-price {
            font-size: 36px;
        }

        /* Hide prices in limited mode */
        body.limited-mode .item-price,
        body.limited-mode .kids-price {
            display: none;
        }

        /* Fairy Animation */
        .fairy {
            position: fixed;
            bottom: -300px;
            width: 512px;
            height: 512px;
            background-size: 14500% 100%; /* 145 frames in horizontal row */
            background-repeat: no-repeat;
            background-position: 0% 0%;
            pointer-events: none;
            z-index: 1000;
            opacity: 0;
        }

        .fairy.winter {
            background-image: url('fairy-sprite.png?v=50');
        }

        .fairy.drink {
            background-image: url('fairy-sprite-drink.png?v=1');
        }

        .fairy.left {
            left: 20px;
        }

        .fairy.right {
            right: 20px;
        }

        /* Animation for sprite frames */
        @keyframes fairy-wave {
            from {
                background-position: 0% 0%;
            }
            to {
                background-position: 100% 0%;
            }
        }

        /* Animation for sliding up and down on left side */
        @keyframes fairy-appear-left {
            0% {
                transform: translateY(20px);
                opacity: 0;
            }
            5% {
                opacity: 1;
            }
            10% {
                transform: translateY(-300px);
            }
            85% {
                transform: translateY(-300px);
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(20px);
                opacity: 0;
            }
        }

        /* Animation for sliding up and down on right side */
        @keyframes fairy-appear-right {
            0% {
                transform: translateY(20px);
                opacity: 0;
            }
            5% {
                opacity: 1;
            }
            10% {
                transform: translateY(-300px);
            }
            85% {
                transform: translateY(-300px);
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(20px);
                opacity: 0;
            }
        }

        /* Combined animation classes */
        .fairy.animate-left {
            animation:
                fairy-appear-left 8s ease-in-out forwards,
                fairy-wave 8s steps(144) forwards;
        }

        .fairy.animate-right {
            animation:
                fairy-appear-right 8s ease-in-out forwards,
                fairy-wave 8s steps(144) forwards;
        }

        /* House Light Overlays */
        .house-overlay {
            position: fixed;
            background-size: contain;
            background-repeat: no-repeat;
            pointer-events: none;
            opacity: 0;
            z-index: 1;
        }

        #house-1 {
            background-image: url('winter-houses/house-1.png');
        }

        #house-2 {
            background-image: url('winter-houses/house-2.png');
        }

        #house-3 {
            background-image: url('winter-houses/house-3.png');
        }

        #house-4 {
            background-image: url('winter-houses/house-4.png');
        }

        #house-5 {
            background-image: url('winter-houses/house-5.png');
        }

        #house-6 {
            background-image: url('winter-houses/house-6.png');
        }

        #house-7 {
            background-image: url('winter-houses/house-7.png');
        }

        /* Snowflakes */
        .snowflake {
            position: fixed;
            top: -50px;
            background-image: url('snowflake.png');
            background-size: contain;
            background-repeat: no-repeat;
            pointer-events: none;
            z-index: 1;
        }

        @keyframes snowfall {
            0% {
                transform: translateY(0) translateX(0) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(110vh) translateX(var(--drift, 50px)) rotate(360deg);
                opacity: 0;
            }
        }

        /* Santa and Reindeer Animation */
        #santa {
            position: fixed;
            top: 15%;
            left: 10%;
            transform: translateY(-50%);
            width: 40vw;
            height: 27vw;
            background-image: url('santa-sprite.png');
            background-size: 14100% 100%;
            background-repeat: no-repeat;
            background-position: 0% 0%;
            pointer-events: none;
            z-index: 1;
            animation: santa-fly 12s steps(140) infinite, santa-move 66s linear infinite;
        }

        @keyframes santa-fly {
            0% {
                background-position: 0% 0%;
            }
            100% {
                background-position: 100% 0%;
            }
        }

        @keyframes santa-move {
            0% {
                left: 10%;
                opacity: 0;
                transform: translateY(-50%) scaleX(1);
            }
            3.03% {
                opacity: 1;
            }
            45.45% {
                left: 110%;
                opacity: 1;
                transform: translateY(-50%) scaleX(1);
            }
            46.97% {
                left: 110%;
                opacity: 1;
                transform: translateY(-50%) scaleX(-1);
            }
            89.39% {
                opacity: 1;
            }
            92.42% {
                left: 10%;
                opacity: 0;
                transform: translateY(-50%) scaleX(-1);
            }
            100% {
                left: 10%;
                opacity: 0;
                transform: translateY(-50%) scaleX(1);
            }
        }
    </style>
</head>
<body>
    <div class="menu-container">
        <!-- STARTERS COLUMN -->
        <div class="column">
            <h1>STARTERS</h1>

            <div class="menu-item">
                <div class="item-header">
                    <span class="item-name">PRETTY AND PINK BEAN DIP</span>
                    <span class="item-price">8</span>
                </div>
                <div class="item-description">
                    A comforting roasted poblano, roasted beet root, and white kidney bean blend — creamy and addictive.
                </div>
            </div>

            <div class="menu-item">
                <div class="item-header">
                    <span class="item-name">EAT THIS AND STOP TEXTING HIM CHICKEN DIP</span>
                    <span class="item-price">12</span>
                </div>
                <div class="item-description">
                    Tender braised chicken mixed into our velvety roasted red pepper queso, served hot and ready for unapologetic scooping. You don't need closure, you needed this.
                </div>
            </div>

            <div class="menu-item">
                <div class="item-header">
                    <span class="item-name">BIGGER THAN YOUR EX NACHOS</span>
                    <span class="item-price">16</span>
                </div>
                <div class="item-description">
                    Corn chips drenched in our scratch roasted red pepper queso, loaded with your choice of molé chicken, braised chicken, brisket, or pulled pork. Topped with pickled jalapeño + Hungarian peppers, dollops of pink bean dip, and our signature pink crema drizzle. Cheesy. Spicy. Satisfying. (Unlike your ex.)
                </div>
            </div>

            <!-- KIDS SECTION -->
            <div class="kids-section">
                <div class="kids-title">KIDS <span class="kids-price">5</span></div>

                <div class="menu-item" data-limited>
                    <div class="item-name">QUESA-CUTIE</div>
                    <div class="item-description">
                        Delicious cheesy burst
                    </div>
                </div>

                <div class="menu-item">
                    <div class="item-name">PORKY POP TACOS</div>
                    <div class="item-description">
                        Two mini tacos with pulled pork and cheddar cheese — the perfect kid-size flavor burst.
                    </div>
                </div>

                <div class="menu-item" data-limited>
                    <div class="item-name">CHICKIE CUTIE TACOS</div>
                    <div class="item-description">
                        Two tacos filled with tender chicken and cheddar — for our tiniest fairies with big appetites.
                    </div>
                </div>
            </div>
        </div>

        <!-- BREAKFAST TOAST AND MAIN DISHES WRAPPER -->
        <div class="breakfast-and-mains-wrapper">
            <!-- BREAKFAST TOAST SECTION -->
            <div class="breakfast-toast-section">
                <h1 class="breakfast-toast-header">BRUNCH, BUT MAKE IT CUTE</h1>
                <div class="section-header">
                    available as house-made toast · taco · wrap · or bowl
                </div>

                <div class="breakfast-toast-columns">
                    <!-- BREAKFAST TOAST COLUMN 1 -->
                    <div class="column">
                        <div class="menu-item">
                            <div class="item-header">
                                <span class="item-name">Morning Glow</span>
                                <span class="item-price">15</span>
                            </div>
                            <div class="item-description">
                                Creamy avocado, basil olive oil tomatoes, eggs, and your choice of pork, bacon, or soyrizo, finished with queso fresco and microgreens. Because breakfast should feel like becoming your best self.
                            </div>
                        </div>
                    </div>

                    <!-- BREAKFAST TOAST COLUMN 2 -->
                    <div class="column">
                        <div class="menu-item">
                            <div class="item-header">
                                <span class="item-name">The IT Girl</span>
                                <span class="item-price">14</span>
                            </div>
                            <div class="item-description">
                                Creamy bean and beet hummus topped with basil olive oil tomatoes, roasted purple potatoes and zucchini, and finished with microgreens and sesame seeds. Bright, vibrant, and balanced — the kind of meal that glows from the inside out.
                            </div>
                        </div>
                    </div>
                </div>

            <div class="breakfast-toast-centered">
                <div class="menu-item">
                    <div class="item-header">
                        <span class="item-name">LA DOLCE VIDA</span>
                        <span class="item-price">13</span>
                    </div>
                    <div class="item-description">
                        Basil olive oil, creamy mayo, fresh mozzarella, tomatoes, lettuce, and smoky bacon, finished with a balsamic glaze. Soft, juicy, and full of main-character energy — because your life should taste like vacation. Served on house-baked toasted bread only.
                    </div>
                </div>
            </div>
            </div>

            <!-- MAIN DISHES SECTION -->
            <div class="main-dishes-section">
            <h1 class="main-dishes-header" data-limited>MAIN DISHES</h1>
            <div class="section-header" data-limited>
                Green onion & cilantro · radish · lime · side salsa<br>
                Choose your style: Tacos (3) · Bowls
            </div>

            <div class="main-dishes-columns">
                <!-- MAIN DISHES COLUMN 1 -->
                <div class="column">
                    <!-- PLANT-POWERED VIBES -->
                    <div class="subsection">
                        <div class="subsection-title">PLANT-POWERED VIBES</div>

                        <div class="menu-item" data-limited>
                            <div class="item-header">
                                <span class="item-name">Glow Up Cali</span>
                                <span class="item-price">16</span>
                            </div>
                            <div class="item-description">
                                Roasted cauliflower and garbanzos with purple sweet potato, pickled red onion, and salsa macha, finished with savory granola for texture. A plate with flavor, balance, and personality.
                            </div>
                        </div>
                    </div>

                    <!-- SAVORY & SOULFUL -->
                    <div class="subsection">
                        <div class="subsection-title">SAVORY & SOULFUL</div>

                        <div class="menu-item" data-limited>
                            <div class="item-header">
                                <span class="item-name">Vibe Check Chicken</span>
                                <span class="item-price">15</span>
                            </div>
                            <div class="item-description">
                                Slow-roasted chicken served with house-made hummus, finished with a pickled carrot and cabbage slaw and queso fresco for balance. Comforting without being heavy.
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <span class="item-name">Slay My Pork</span>
                                <span class="item-price">15</span>
                            </div>
                            <div class="item-description">
                                Slow-roasted pork with pickled red cabbage and dollops of pickled cranberry pepper sauce. Bright heat. Deep flavor. No notes.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- MAIN DISHES COLUMN 2 -->
                <div class="column">
                    <!-- SAVORY & SOULFUL - Continued -->
                    <div class="subsection">
                        <div class="subsection-title">SAVORY & SOULFUL</div>

                        <div class="menu-item">
                            <div class="item-header">
                                <span class="item-name">Golden Hour Brisket</span>
                                <span class="item-price">17</span>
                            </div>
                            <div class="item-description">
                                Slow-roasted brisket served over silky corn purée, finished with roasted onion and peppers. Rich, warm, and quietly stunning.
                            </div>
                        </div>
                    </div>

                    <!-- COASTAL & SEA FAIRY ENERGY -->
                    <div class="subsection">
                        <div class="subsection-title">COASTAL & SEA FAIRY ENERGY</div>

                        <div class="menu-item">
                            <div class="item-header">
                                <span class="item-name">Shrimply A Vibe</span>
                                <span class="item-price">17</span>
                            </div>
                            <div class="item-description">
                                Cajun-lime shrimp with crispy cabbage slaw, roasted corn, and avocado crema. A coastal dream with a spicy-sweet finish.
                            </div>
                        </div>
                    </div>

                    <!-- BOLD & BEAUTIFUL FLAVORS -->
                    <div class="subsection">
                        <div class="subsection-title">BOLD & BEAUTIFUL FLAVORS</div>

                        <div class="menu-item" data-limited>
                            <div class="item-header">
                                <span class="item-name">Molé La Mera Mera</span>
                                <span class="item-price">16</span>
                            </div>
                            <div class="item-description">
                                Our signature molé chicken with pickled fennel, creamy ricotta, queso fresco, and crunchy house made granola. Rich, velvety, and the real main-character energy.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>

        <!-- DRINKS SECTION -->
        <div class="drinks-section">
            <h1 class="drinks-header" data-limited>DRINKS</h1>

            <div class="drinks-columns">
                <!-- DRINKS COLUMN 1 -->
                <div class="column">
                    <!-- CREAMY DREAMY -->
                    <div class="subsection">
                        <div class="subsection-title">CREAMY DREAMY</div>

                        <div class="menu-item">
                            <div class="item-header">
                                <span class="item-name">MANGO CREMA</span>
                                <span class="item-price">12</span>
                            </div>
                            <div class="item-description">
                                Creamy mango blend over ice layered with shortcake, whipped cream, toasted marshmallows, vanilla wafers, and pineapple birria.
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <span class="item-name">STRAWBERRY CREMA</span>
                                <span class="item-price">12</span>
                            </div>
                            <div class="item-description">
                                Strawberry cream layered with shortcake, whipped cream, strawberry slices, wafers, cookies, and birria — pink perfection in a cup.
                            </div>
                        </div>

                        <div class="menu-item" data-limited>
                            <div class="item-header">
                                <span class="item-name">MAGICAL HORCHATA</span>
                                <span class="item-price">12</span>
                            </div>
                            <div class="item-description">
                                Classic horchata with whipped cream, cinnamon powder, and a skewer of Sponch and Mazapán candy, topped with a caramel lollipop.
                            </div>
                        </div>
                    </div>

                    <!-- FAIRY ENERGY -->
                    <div class="subsection">
                        <div class="subsection-title">FAIRY ENERGY</div>

                        <div class="menu-item">
                            <div class="item-header">
                                <span class="item-name">SPARKLING SENSATION</span>
                                <span class="item-price">9</span>
                            </div>
                            <div class="item-description">
                                A fizzy fun drink, elevated with your choice of natural lotus or redbull. Topped with a sprinkle of magical candies and edible glitter.
                            </div>
                        </div>
                    </div>

                    <!-- SEASONAL GLOW -->
                    <div class="subsection">
                        <div class="subsection-title">SEASONAL GLOW</div>

                        <div class="menu-item">
                            <div class="item-header">
                                <span class="item-name">SANTA'S COZY HOT CHOCOLATE</span>
                                <span class="item-price">15</span>
                            </div>
                            <div class="item-description">
                                Warm, red-tinted  house chocolate sauce, finished with whipped cream, toasted marshmallows, Christmas cookies, hand spun cotton candy, and festive marshmallow characters on a Teddy Graham cookie rim. Add our house-made peppermint syrup for holiday sparkle.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- DRINKS COLUMN 2 -->
                <div class="column">
                    <!-- SPARKLING ELIXIRS -->
                    <div class="subsection">
                        <div class="subsection-title">SPARKLING ELIXIRS</div>

                        <div class="menu-item">
                            <div class="item-header">
                                <span class="item-name">LEMON BLOSSOM MOCKTAIL</span>
                                <span class="item-price">12</span>
                            </div>
                            <div class="item-description">
                                Lemonade infused with dragon fruit syrup and butterfly pea flower, topped with edible glitter and hand spun cotton candy
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <span class="item-name">WINTER WONDERLAND MOCKTAIL</span>
                                <span class="item-price">12</span>
                            </div>
                            <div class="item-description">
                                A lavender and vanilla sparkling base with cranberries and rosemary, paired with a cranberry–orange–pineapple ornament mix and hand spun cotton candy. Crisp sparkle, soft sweetness, and a snowy finish
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <span class="item-name">WINTER FROST</span>
                                <span class="item-price">12</span>
                            </div>
                            <div class="item-description">
                                Blue pea flower steeped into a coconut milk and pineapple blend, finished with snow-whipped coconut foam, topped with rosemary, and a marshmallow snowman. Cold, creamy, lightly floral — winter, seen through warm light.
                            </div>
                        </div>
                    </div>

                    <!-- MATCHA GLOW -->
                    <div class="subsection">
                        <div class="subsection-title">MATCHA GLOW</div>

                        <div class="menu-item">
                            <div class="item-header">
                                <span class="item-name">FLORAL ESSENCE</span>
                                <span class="item-price">9</span>
                            </div>
                            <div class="item-description">
                                A serene blend, your choice of Matcha,Chai or Latte infused with your choice of floral essence: Chamomile, Lavender, Rose or Butterflypea. Topped with a floral foam
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <span class="item-name">MATCHA EGGNOG LATTE</span>
                                <span class="item-price">14</span>
                            </div>
                            <div class="item-description">
                                Hand-whisked ceremonial-grade matcha layered with eggnog finished with matcha cold foam and winter goodie garnish. Silky, cozy, lightly sweet — matcha meets holiday glow.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- DRINKS COLUMN 3 -->
                <div class="column">
                    <!-- COZY ESPRESSO ENERGY -->
                    <div class="subsection">
                        <div class="subsection-title">COZY ESPRESSO ENERGY</div>

                        <div class="menu-item">
                            <div class="item-header">
                                <span class="item-name">CRÈME BRÛLÉE LATTE</span>
                                <span class="item-price">12</span>
                            </div>
                            <div class="item-description">
                                Crème-caramel syrup with espresso or matcha, topped with mascarpone cream caramel cold foam, Torched Sugar, gold flakes, and a slice of creme brulee cheesecake.
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <span class="item-name">PISTACHIO GLOW LATTE</span>
                                <span class="item-price">12</span>
                            </div>
                            <div class="item-description">
                                Matcha or espresso swirled with pistachio syrup and white chocolate, topped with cold foam and pistachio crumble.
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <span class="item-name">CABIN GLOW LATTE</span>
                                <span class="item-price">12</span>
                            </div>
                            <div class="item-description">
                                Our house-made salted walnut maple syrup finished with honey walnut cold foam, candied walnuts, caramel, and a roasted marshmallow rim. Soft sweetness, nutty depth, fireside comfort.
                            </div>
                        </div>
                    </div>

                    <!-- CHAI WARMTH -->
                    <div class="subsection">
                        <div class="subsection-title">CHAI WARMTH</div>

                        <div class="menu-item">
                            <div class="item-header">
                                <span class="item-name">PEPPERMINT S'MORES CHAI</span>
                                <span class="item-price">12</span>
                            </div>
                            <div class="item-description">
                                Our house-made peppermint meets spiced chai, crowned with chocolate soft top, crushed peppermint, and Christmas marshmallows. Soft, mint-sweet winter nostalgia.
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <span class="item-name">GINGY PUFF CHAI</span>
                                <span class="item-price">13</span>
                            </div>
                            <div class="item-description">
                                House gingerbread syrup with chai and milk,Topped with ginger-honey cinnamon cold foam, rosemary, and a gingerbread topper. Cozy spice, soft cream, and a winter-sweet finish.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Fairy Animation Elements -->
    <div class="fairy left" id="fairy-left"></div>
    <div class="fairy right" id="fairy-right"></div>

    <!-- House Light Overlays -->
    <div class="house-overlay" id="house-1"></div>
    <div class="house-overlay" id="house-2"></div>
    <div class="house-overlay" id="house-3"></div>
    <div class="house-overlay" id="house-4"></div>
    <div class="house-overlay" id="house-5"></div>
    <div class="house-overlay" id="house-6"></div>
    <div class="house-overlay" id="house-7"></div>

    <!-- Santa and Reindeer Animation -->
    <div id="santa"></div>

    <script>
        // Detect query parameter and set mode (food/drinks)
        (function() {
            const urlParams = new URLSearchParams(window.location.search);
            const mode = urlParams.get('mode') || 'food'; // Default to food if no param

            // Add mode class to body
            document.body.classList.add('mode-' + mode);
        })();

        // Show page once fully loaded to prevent flash of unstyled content
        window.addEventListener('load', function() {
            document.body.classList.add('loaded');
        });

        // Version-based auto-refresh system (only works when served over HTTP/HTTPS)
        let currentVersion = null;

        async function checkVersion() {
            // Only check version when served over HTTP/HTTPS (not file://)
            if (window.location.protocol === 'file:') {
                return;
            }

            try {
                const response = await fetch('version.txt?t=' + Date.now());
                const version = await response.text();

                if (currentVersion === null) {
                    // First load - store the version
                    currentVersion = version.trim();
                } else if (version.trim() !== currentVersion) {
                    // Version changed - reload the page
                    location.reload();
                }
            } catch (error) {
                console.error('Error checking version:', error);
            }
        }

        // Check version on load
        checkVersion();

        // Check for updates every minute
        const versionCheckInterval = setInterval(checkVersion, 60000); // 60000ms = 1 minute

        // Force reload every 3 hours to prevent memory leaks from long-running animations
        setTimeout(function() {
            location.reload();
        }, 3 * 60 * 60 * 1000); // 3 hours in milliseconds

        // Clean up version check interval before unload
        window.addEventListener('beforeunload', function() {
            clearInterval(versionCheckInterval);
        });

        // Fairy animation sequence
        let fairyInterval = null;

        function runFairyAnimation() {
            const fairyLeft = document.getElementById('fairy-left');
            const fairyRight = document.getElementById('fairy-right');

            // Remove classes if they exist (for repeat animations)
            fairyLeft.classList.remove('animate-left', 'winter', 'drink');
            fairyRight.classList.remove('animate-right', 'winter', 'drink');

            // Force reflow to restart animation
            void fairyLeft.offsetWidth;
            void fairyRight.offsetWidth;

            // Randomly choose between winter (snowball) and drink fairy
            const variants = ['winter', 'drink'];
            const chosenVariant = variants[Math.floor(Math.random() * variants.length)];

            // Add the chosen variant class to both fairies
            fairyLeft.classList.add(chosenVariant);
            fairyRight.classList.add(chosenVariant);

            // First animation - left side
            fairyLeft.classList.add('animate-left');

            // After 8 seconds (left animation complete), wait 4 seconds, then animate right
            // No need to track this timeout - it completes and gets garbage collected
            setTimeout(function() {
                fairyRight.classList.add('animate-right');
            }, 12000); // 8s animation + 4s delay
        }

        // Clean up interval before page unloads
        window.addEventListener('beforeunload', function() {
            if (fairyInterval) {
                clearInterval(fairyInterval);
            }
        });

        // Start after 2 seconds
        setTimeout(runFairyAnimation, 2000);

        // Repeat every 25 seconds
        fairyInterval = setInterval(runFairyAnimation, 25000);

        // House positioning and flickering
        const bgImageWidth = 1536;
        const bgImageHeight = 1024;

        const houses = [
            { id: 'house-1', x: 1, y: 383, width: 233, height: 467, interval: null },
            { id: 'house-2', x: 252, y: 568, width: 103, height: 214, interval: null },
            { id: 'house-3', x: 447, y: 609, width: 202, height: 183, interval: null },
            { id: 'house-4', x: 700, y: 668, width: 84, height: 111, interval: null },
            { id: 'house-5', x: 835, y: 710, width: 77, height: 83, interval: null },
            { id: 'house-6', x: 929, y: 737, width: 37, height: 34, interval: null },
            { id: 'house-7', x: 979, y: 725, width: 69, height: 66, interval: null }
        ];

        function positionHouses() {
            const viewportWidth = window.innerWidth;
            const viewportHeight = window.innerHeight;

            // Calculate how background-size: cover scales the image
            const bgRatio = bgImageWidth / bgImageHeight;
            const viewportRatio = viewportWidth / viewportHeight;

            let scaleBase;

            if (viewportRatio > bgRatio) {
                // Viewport is wider - background scales to viewport width
                scaleBase = 100 / bgImageWidth; // vw per pixel
                const bgHeightInVw = (bgImageHeight * scaleBase);
                const offsetY = (100 - (bgHeightInVw * viewportWidth / viewportHeight)) / 2;

                houses.forEach(house => {
                    const element = document.getElementById(house.id);
                    if (element) {
                        element.style.left = (house.x * scaleBase) + 'vw';
                        element.style.top = (house.y * scaleBase * viewportWidth / viewportHeight + offsetY) + 'vh';
                        element.style.width = (house.width * scaleBase) + 'vw';
                        element.style.height = (house.height * scaleBase * viewportWidth / viewportHeight) + 'vh';
                    }
                });
            } else {
                // Viewport is taller - background scales to viewport height
                scaleBase = 100 / bgImageHeight; // vh per pixel
                const bgWidthInVh = (bgImageWidth * scaleBase);
                const offsetX = (100 - (bgWidthInVh * viewportHeight / viewportWidth)) / 2;

                houses.forEach(house => {
                    const element = document.getElementById(house.id);
                    if (element) {
                        element.style.left = (house.x * scaleBase * viewportHeight / viewportWidth + offsetX) + 'vw';
                        element.style.top = (house.y * scaleBase) + 'vh';
                        element.style.width = (house.width * scaleBase * viewportHeight / viewportWidth) + 'vw';
                        element.style.height = (house.height * scaleBase) + 'vh';
                    }
                });
            }
        }

        // Position houses on load and resize
        positionHouses();
        window.addEventListener('resize', positionHouses);

        // Continuous flame-like flickering
        const houseFlickerState = {};

        houses.forEach(house => {
            houseFlickerState[house.id] = {
                currentOpacity: 0.4 + Math.random() * 0.2,
                targetOpacity: 0.4 + Math.random() * 0.2,
                changeCounter: 0
            };
        });

        function animateFlicker() {
            houses.forEach(house => {
                const element = document.getElementById(house.id);
                if (!element) return;

                const state = houseFlickerState[house.id];

                // Every 7-22 frames (0.12-0.37 seconds at 60fps), pick a new target
                state.changeCounter++;
                if (state.changeCounter > 7 + Math.random() * 15) {
                    state.targetOpacity = 0.3 + Math.random() * 0.4; // Range 0.3-0.7
                    state.changeCounter = 0;
                }

                // Smoothly interpolate toward target (ease)
                const ease = 0.24; // Fast speed
                state.currentOpacity += (state.targetOpacity - state.currentOpacity) * ease;

                element.style.opacity = state.currentOpacity;
            });

            requestAnimationFrame(animateFlicker);
        }

        // Start continuous flickering
        animateFlicker();

        // Snowfall effect
        function createSnowflake() {
            const snowflake = document.createElement('div');
            snowflake.className = 'snowflake';

            // Random size between 5px and 20px
            const size = Math.random() * 15 + 5;
            snowflake.style.width = size + 'px';
            snowflake.style.height = size + 'px';

            // Random horizontal position
            snowflake.style.left = Math.random() * 100 + '%';

            // Random duration (speed) between 8-15 seconds
            const duration = Math.random() * 7 + 8;
            snowflake.style.animation = `snowfall ${duration}s linear`;

            // Random horizontal drift
            const drift = (Math.random() - 0.5) * 100;
            snowflake.style.setProperty('--drift', drift + 'px');

            document.body.appendChild(snowflake);

            // Remove snowflake after animation completes
            setTimeout(() => {
                snowflake.remove();
            }, duration * 1000);
        }

        // Create snowflakes continuously
        setInterval(createSnowflake, 150); // New snowflake every 150ms

        // Create initial batch of snowflakes
        for (let i = 0; i < 60; i++) {
            setTimeout(createSnowflake, Math.random() * 3000);
        }

        // Clean up on page unload
        window.addEventListener('beforeunload', function() {
            houses.forEach(house => {
                if (house.interval) {
                    clearInterval(house.interval);
                }
            });
        });

        // Toggle limited mode with spacebar
        document.addEventListener('keydown', function(event) {
            if (event.code === 'Space' && event.target === document.body) {
                event.preventDefault();
                document.body.classList.toggle('limited-mode');
            }
        });
    </script>
</body>
</html>